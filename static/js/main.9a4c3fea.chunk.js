(this["webpackJsonpphysics-simulation"]=this["webpackJsonpphysics-simulation"]||[]).push([[0],{29:function(t,e,a){},35:function(t,e,a){"use strict";a.r(e);var i=a(1),n=a(0),s=a(10),r=a.n(s),c=a(2),o=a(5),h=a(3),d=a(8),l=a(9),u=a(15),x=function(){function t(){Object(l.a)(this,t),this.axesCanvas=void 0,this.axesCtx=void 0,this.canvas=void 0,this.ctx=void 0,this.bodies=[],this.hasAxes=!1,this.origin={x:0,y:0},this.gridSize=1,this.lastUpdated=void 0,this.fps=58,this.animating=!1,this.animationStarted=!1}return Object(u.a)(t,[{key:"setCanvas",value:function(t,e){this.canvas=t,this.axesCanvas=e,this.hasAxes=!1}},{key:"setContext",value:function(t,e){this.ctx=t,this.axesCtx=e}},{key:"addBody",value:function(t){this.bodies.push(t),t.draw()}},{key:"draw",value:function(){this.bodies.forEach((function(t){return t.draw()}))}},{key:"animateAll",value:function(){this.animating=!0,this.animate()}},{key:"animate",value:function(){var t=this;if(this.animating&&this.canvas&&this.ctx){this.lastUpdated||(this.lastUpdated=performance.now());var e=(performance.now()-this.lastUpdated)/1e3;this.lastUpdated=performance.now(),this.animationStarted?this.fps=1/e:this.animationStarted=!0,requestAnimationFrame((function(){return t.animate()})),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies.forEach((function(t){return t.update()}))}}},{key:"eraseAll",value:function(){this.animating=!1,this.animationStarted=!1,this.lastUpdated=void 0,this.canvas&&this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies=[])}},{key:"reset",value:function(){this.animating=!1,this.animationStarted=!1,this.lastUpdated=void 0,this.canvas&&this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies.forEach((function(t){t.reset()})))}},{key:"addText",value:function(){if(this.axesCanvas&&this.axesCtx){var t=3,e=10;this.axesCtx.font="10px Aerial";for(var a=Math.floor(this.origin.x),i=Math.floor(this.origin.y),n=0;n<this.axesCanvas.width;n++){var s=n-a;this.axesCtx.fillText("".concat(s),n*this.gridSize+t,this.origin.y*this.gridSize+e)}for(var r=0;r<this.axesCanvas.width;r++){var c=i-r;0!==c&&this.axesCtx.fillText("".concat(c),this.origin.x*this.gridSize+t,r*this.gridSize+e)}}}},{key:"addAxes",value:function(t,e){if(this.axesCanvas&&this.axesCtx){this.origin=t,this.gridSize=e,this.axesCtx.strokeStyle="#a6a6a6",this.axesCtx.lineWidth=1,this.axesCtx.beginPath();for(var a=e;a<this.axesCanvas.width;a+=e)a!==t.x*e&&(this.axesCtx.moveTo(a,0),this.axesCtx.lineTo(a,this.axesCanvas.height),this.axesCtx.stroke());for(var i=e;i<this.axesCanvas.height;i+=e)i!==t.y*e&&(this.axesCtx.moveTo(0,i),this.axesCtx.lineTo(this.axesCanvas.width,i),this.axesCtx.stroke());this.axesCtx.closePath(),this.axesCtx.strokeStyle="#000000",this.axesCtx.beginPath(),this.axesCtx.moveTo(t.x*e,0),this.axesCtx.lineTo(t.x*e,this.axesCanvas.height),this.axesCtx.stroke(),this.axesCtx.moveTo(0,t.y*e),this.axesCtx.lineTo(this.axesCanvas.width,t.y*e),this.axesCtx.stroke(),this.axesCtx.closePath(),this.addText()}}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();x.instance=void 0;var v=x.getInstance(),m={x:0,y:-9.80665},f=function(t,e,a){return{x:t.x+e.x*a,y:t.y+e.y*a}},p=function t(e,a){var i=this;Object(l.a)(this,t),this.ctx=e,this.originalParams=void 0,this.params=void 0,this.animating=!1,this.draw=void 0,this.update=void 0,this.reset=void 0,this.ctx=e;var n={x:a.x,y:a.y,w:a.w,h:a.h,m:a.m,v:a.v,a:a.a};this.originalParams=JSON.parse(JSON.stringify(n)),this.params=n,this.draw=function(){var t=i.params,e=t.x,a=t.y,n=t.w,s=t.h,r=(t.m,t.v,t.a,v.origin),c=v.gridSize;e=(e+r.x)*c,a=(r.y-a)*c,n*=c,s*=-c,i.ctx.fillStyle="red",i.ctx.beginPath(),i.ctx.fillRect(e,a,n,s),i.ctx.closePath()},this.update=function(){if(i.params.y>=0){var t=f(i.params.v,m,1/v.fps).y/v.fps;i.params.y+t>0?i.params.y+=t:i.params.y=0,i.params.v=f(i.params.v,m,1/v.fps)}i.draw()},this.reset=function(){i.params=JSON.parse(JSON.stringify(i.originalParams)),i.draw()}},b=function t(e,a){var i=this;Object(l.a)(this,t),this.ctx=e,this.originalParams=void 0,this.params=void 0,this.animating=!1,this.draw=void 0,this.update=void 0,this.reset=void 0,this.ctx=e;var n={o:{x:a.x,y:a.y},r:a.r,m:a.m,v:a.v,a:a.a};this.originalParams=JSON.parse(JSON.stringify(n)),this.params=n,this.draw=function(){var t=i.params,e=t.o,a=t.r,n=(t.v,t.a,v.origin),s=v.gridSize;e={x:(e.x+n.x)*s,y:(n.y-e.y)*s},a*=s,i.ctx.fillStyle="red",i.ctx.beginPath(),i.ctx.arc(e.x,e.y,a,0,2*Math.PI),i.ctx.fill(),i.ctx.closePath()},this.update=function(){if(i.params.o.y-i.params.r>=0){var t=f(i.params.v,m,1/v.fps).y/v.fps;i.params.o.y-i.params.r+t>0?i.params.o.y+=t:i.params.o.y=i.params.r,i.params.v=f(i.params.v,m,1/v.fps)}i.draw()},this.reset=function(){i.params=JSON.parse(JSON.stringify(i.originalParams)),i.draw()}};function g(){var t=Object(c.a)(["\n  position: relative;\n  canvas {\n    position: absolute;\n  }\n"]);return g=function(){return t},t}var j=Object(h.a)((function(t){var e=t.className,a=t.width,s=t.height,r=void 0===s?750:s,c=t.origin,o=void 0===c?{x:0,y:0}:c,h=t.gridSize,d=void 0===h?25:h,l=Object(n.useRef)(null),u=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){if(l&&l.current&&u&&u.current){v.setCanvas(u.current,l.current);var t=u.current.getContext("2d"),e=l.current.getContext("2d");e&&t&&(v.setContext(t,e),v.addAxes(o,d))}}),[l,u]),Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("canvas",{className:"body-canvas",width:a,height:r,ref:u}),Object(i.jsx)("canvas",{className:"axes-canvas",width:a,height:r,style:{border:"1px solid black"},ref:l})]})}))(g()),y=0,O=function(t){return"".concat(t,"-").concat(y++)};function C(){var t=Object(c.a)(["\n  position: relative;\n  display: flex;\n  input {\n    width: 100%;\n    padding: 0.25rem 1.5rem 0.25rem 0.5rem;\n  }\n  label {\n    position: absolute;\n    top: 50%;\n    right: 0.5rem;\n    transform: translateY(-50%);\n    font-family: sans-serif;\n  }\n"]);return C=function(){return t},t}var w=Object(h.a)((function(t){var e=t.className,a=t.bodyType,n=t.paramType,s=t.onChange,r=t.value,c=O("input");return Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("input",{id:c,type:"number",placeholder:function(){switch(n){case"x":case"y":return"circle"==a?"".concat(n," of origin"):n;case"w":return"width";case"h":return"height";case"r":return"radius";case"m":return"mass";default:return""}}(),step:.1,onChange:function(t){s(n,parseFloat(t.target.value))},value:r,required:!0}),Object(i.jsx)("label",{htmlFor:c,children:function(){switch(n){case"w":case"h":case"r":return"m";case"m":return"kg";default:return"--"}}()})]})}))(C());function S(){var t=Object(c.a)(["\n  padding: 0.25rem;\n  border: 1px solid ",";\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    background-color: #e5e5e5;\n  }\n"]);return S=function(){return t},t}var k=Object(h.a)((function(t){var e=t.className,a=t.bodyType,n=t.onClick;t.selected;return Object(i.jsx)("button",{className:e,onClick:function(){n(a)},children:a})}))(S(),(function(t){return t.selected?"red":"black"}));function N(){var t=Object(c.a)(["\n  width: 752px;\n  height: 752px;\n  overflow: hidden;\n  .btn-container {\n  }\n"]);return N=function(){return t},t}var T=Object(h.a)((function(t){var e=t.className,a=Object(n.useRef)(null);return Object(i.jsx)("div",{id:"canvas-container",className:e,ref:a,children:Object(i.jsx)(j,Object(d.a)({},{width:750,height:750,origin:{x:5,y:25},gridSize:25}))})}))(N()),P=a(11);function A(){var t=Object(c.a)(["\n  margin-left: 1rem;\n  border: 1px solid #e9e9e9;\n  width: 20rem;\n  height: 752px;\n  padding: 1rem;\n  .buttons-container {\n    display: grid;\n    grid-gap: 0.5rem;\n    grid-template-columns: repeat(2, 1fr);\n    margin-bottom: 1rem;\n  }\n  .inputs-container {\n    display: grid;\n    grid-gap: 0.5rem;\n    grid-template-columns: repeat(2, 1fr);\n    margin-bottom: 1rem;\n  }\n  .actions-container {\n    display: grid;\n    grid-gap: 0.5rem;\n    grid-template-columns: repeat(2, 1fr);\n    button {\n      padding: 0.25rem;\n    }\n    button:last-child {\n      grid-column: 1 / 3;\n    }\n  }\n"]);return A=function(){return t},t}var z=Object(h.a)((function(t){var e=t.className,a=Object(n.useState)("rectangle"),s=Object(o.a)(a,2),r=s[0],c=s[1],h=Object(n.useState)(!1),l=Object(o.a)(h,2),u=l[0],x=l[1],m=Object(n.useState)({x:0,y:0,o:{x:0,y:0},w:0,h:0,r:0,m:0,v:{x:0,y:0},a:{x:0,y:0}}),f=Object(o.a)(m,2),g=f[0],j=f[1],y={rectangle:["x","y","w","h","m","v","a"],circle:["x","y","r","m","v","a"],slope:[],line:[],spring:[],ground:[]},O=function(t){c(t)},C=function(t,e){j((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(P.a)({},t,e))}))};return Object(n.useEffect)((function(){}),[]),Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("div",{className:"buttons-container",children:["rectangle","circle","slope","line","spring","ground"].map((function(t,e){return Object(i.jsx)(k,{bodyType:t,onClick:O,selected:r===t},e)}))}),Object(i.jsx)("div",{className:"inputs-container",children:y[r]&&y[r].map((function(t,e){return Object(i.jsx)(w,{bodyType:r,paramType:t,onChange:C,value:g[t]},e)}))}),Object(i.jsxs)("div",{className:"actions-container",children:[Object(i.jsx)("button",{className:"actions-btn",onClick:function(){var t=v.ctx;if(t)switch(r){case"rectangle":v.addBody(new p(t,g));break;case"circle":v.addBody(new b(t,g))}},children:"Draw"}),Object(i.jsx)("button",{className:"actions-btn",onClick:function(){v.eraseAll()},children:"Erase All"}),Object(i.jsx)("button",{className:"actions-btn",onClick:u?function(){v.reset(),x(!1)}:function(){v.animateAll(),x(!0)},children:u?"Reset":"Animate"})]})]})}))(A());function J(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 1200px;\n  padding: 2rem;\n  .top-container {\n    display: flex;\n    justify-content: center;\n  }\n"]);return J=function(){return t},t}var R=Object(h.a)((function(t){var e=t.className,a=Object(n.useState)(0),s=Object(o.a)(a,2),r=(s[0],s[1],Object(n.useState)(!1)),c=Object(o.a)(r,2);c[0],c[1];return Object(i.jsx)("div",{className:e,children:Object(i.jsxs)("div",{className:"top-container",children:[Object(i.jsx)(T,{}),Object(i.jsx)(z,{})]})})}))(J());a(29);var E=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(R,{})})},U=a(4),B=a(21),I=a(20),F=Object(U.combineReducers)({}),M=Object(U.createStore)(F,Object(I.composeWithDevTools)());r.a.render(Object(i.jsx)(B.a,{store:M,children:Object(i.jsx)(E,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.9a4c3fea.chunk.js.map