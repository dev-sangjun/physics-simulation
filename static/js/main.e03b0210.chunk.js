(this["webpackJsonpphysics-simulation"]=this["webpackJsonpphysics-simulation"]||[]).push([[0],{27:function(t,e,i){},33:function(t,e,i){"use strict";i.r(e);var s=i(1),a=i(0),n=i(8),r=i.n(n),c=i(2),o=i(3),h=i(7),x=i(12),d=function(){function t(){Object(h.a)(this,t),this.axesCanvas=void 0,this.axesCtx=void 0,this.canvas=void 0,this.ctx=void 0,this.bodies=[],this.hasAxes=!1,this.origin={x:0,y:0},this.gridSize=1,this.lastUpdated=void 0,this.fps=58,this.animationStarted=!1,this.time=0}return Object(x.a)(t,[{key:"setCanvas",value:function(t,e){this.canvas=t,this.axesCanvas=e,this.hasAxes=!1}},{key:"setContext",value:function(t,e){this.ctx=t,this.axesCtx=e}},{key:"addBody",value:function(t){this.bodies.push(t),t.draw()}},{key:"animate",value:function(){var t=this;if(this.canvas&&this.ctx){this.lastUpdated||(this.lastUpdated=performance.now());var e=(performance.now()-this.lastUpdated)/1e3;this.lastUpdated=performance.now(),this.animationStarted?this.fps=1/e:this.animationStarted=!0,requestAnimationFrame((function(){return t.animate()})),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies.forEach((function(t){return t.update()}))}}},{key:"addText",value:function(){if(this.axesCanvas&&this.axesCtx){var t=3,e=10;this.axesCtx.font="10px Aerial";for(var i=Math.floor(this.origin.x),s=Math.floor(this.origin.y),a=0;a<this.axesCanvas.width;a++){var n=a-i;this.axesCtx.fillText("".concat(n),a*this.gridSize+t,this.origin.y*this.gridSize+e)}for(var r=0;r<this.axesCanvas.width;r++){var c=s-r;0!==c&&this.axesCtx.fillText("".concat(c),this.origin.x*this.gridSize+t,r*this.gridSize+e)}}}},{key:"addAxes",value:function(t,e){if(this.axesCanvas&&this.axesCtx){this.origin=t,this.gridSize=e,console.log(e),this.axesCtx.strokeStyle="#a6a6a6",this.axesCtx.lineWidth=1,this.axesCtx.beginPath();for(var i=e;i<this.axesCanvas.width;i+=e)i!==t.x*e&&(this.axesCtx.moveTo(i,0),this.axesCtx.lineTo(i,this.axesCanvas.height),this.axesCtx.stroke());for(var s=e;s<this.axesCanvas.height;s+=e)s!==t.y*e&&(this.axesCtx.moveTo(0,s),this.axesCtx.lineTo(this.axesCanvas.width,s),this.axesCtx.stroke());this.axesCtx.closePath(),this.axesCtx.strokeStyle="#000000",this.axesCtx.beginPath(),this.axesCtx.moveTo(t.x*e,0),this.axesCtx.lineTo(t.x*e,this.axesCanvas.height),this.axesCtx.stroke(),this.axesCtx.moveTo(0,t.y*e),this.axesCtx.lineTo(this.axesCanvas.width,t.y*e),this.axesCtx.stroke(),this.axesCtx.closePath(),this.addText()}}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();d.instance=void 0;var l=d.getInstance(),u={x:0,y:-9.8},v=function(t,e,i){return{x:t.x+e.x*i,y:t.y+e.y*i}},p=function t(e,i){var s=this;Object(h.a)(this,t),this.ctx=e,this.params=i,this.draw=void 0,this.update=void 0,this.ctx=e,this.params=i,this.draw=function(){var t=s.params,e=t.x,i=t.y,a=t.w,n=t.h,r=(t.m,t.v,t.a,l.origin),c=l.gridSize;e=(e+r.x)*c,i=(r.y-i)*c,a*=c,n*=-c,s.ctx.fillStyle="red",s.ctx.beginPath(),s.ctx.fillRect(e,i,a,n),s.ctx.closePath()},this.update=function(){if(s.params.y>=0){var t=v(s.params.v,u,1/l.fps).y/l.fps;s.params.y+t>0?s.params.y+=t:s.params.y=0,s.params.v=v(s.params.v,u,1/l.fps),l.time+=1/l.fps}s.draw()}},f=i(19);function j(){var t=Object(c.a)(["\n  position: relative;\n  canvas {\n    position: absolute;\n  }\n"]);return j=function(){return t},t}var m=Object(o.a)((function(t){var e=t.className,i=t.width,n=t.height,r=void 0===n?750:n,c=t.origin,o=void 0===c?{x:0,y:0}:c,h=t.gridSize,x=void 0===h?25:h,d=Object(a.useRef)(null),u=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){if(d&&d.current&&u&&u.current){l.setCanvas(u.current,d.current);var t=u.current.getContext("2d"),e=d.current.getContext("2d");e&&t&&(l.setContext(t,e),l.addAxes(o,x))}}),[d,u]),Object(s.jsxs)("div",{className:e,children:[Object(s.jsx)("canvas",{className:"body-canvas",width:i,height:r,ref:u}),Object(s.jsx)("canvas",{className:"axes-canvas",width:i,height:r,style:{border:"1px solid black"},ref:d})]})}))(j()),b=0,y=function(t){return"".concat(t,"-").concat(b++)};function g(){var t=Object(c.a)(["\n  position: relative;\n  display: flex;\n  input {\n    width: 100%;\n    padding: 0 1.5rem 0 0.5rem;\n  }\n  label {\n    position: absolute;\n    top: 50%;\n    right: 0.5rem;\n    transform: translateY(-50%);\n    font-family: sans-serif;\n  }\n"]);return g=function(){return t},t}var O=Object(o.a)((function(t){var e=t.className,i=t.placeholder,a=t.inputType,n=y("input");return Object(s.jsxs)("div",{className:e,children:[Object(s.jsx)("input",{id:n,placeholder:i}),Object(s.jsx)("label",{htmlFor:n,children:function(){switch(a){case"w":case"h":case"r":return"m";case"mass":return"kg";default:return""}}()})]})}))(g());function C(){var t=Object(c.a)(["\n  width: 752px;\n  height: 752px;\n  overflow: hidden;\n  .btn-container {\n  }\n"]);return C=function(){return t},t}var w=Object(o.a)((function(t){var e=t.className,i=Object(a.useRef)(null);return Object(s.jsx)("div",{id:"canvas-container",className:e,ref:i,children:Object(s.jsx)(m,Object(f.a)({},{width:750,height:750,origin:{x:5,y:25},gridSize:25}))})}))(C());function k(){var t=Object(c.a)(["\n  margin-left: 1rem;\n  border: 1px solid #e9e9e9;\n  width: 20rem;\n  height: 752px;\n  padding: 1rem;\n  .inputs-container {\n    display: grid;\n    grid-gap: 0.5rem;\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]);return k=function(){return t},t}var T=Object(o.a)((function(t){var e=t.className;return Object(s.jsxs)("div",{className:e,children:[Object(s.jsx)("div",{className:"buttons-container"}),Object(s.jsxs)("div",{className:"inputs-container",children:[Object(s.jsx)(O,{placeholder:"x",inputType:"x"}),Object(s.jsx)(O,{placeholder:"y",inputType:"y"}),Object(s.jsx)(O,{placeholder:"width",inputType:"w"}),Object(s.jsx)(O,{placeholder:"height",inputType:"h"}),Object(s.jsx)(O,{placeholder:"mass",inputType:"mass"})]})]})}))(k());function N(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 1200px;\n  padding: 2rem;\n  .top-container {\n    display: flex;\n    justify-content: center;\n  }\n"]);return N=function(){return t},t}var S=Object(o.a)((function(t){var e=t.className;return Object(s.jsxs)("div",{className:e,children:[Object(s.jsxs)("div",{className:"top-container",children:[Object(s.jsx)(w,{}),Object(s.jsx)(T,{})]}),Object(s.jsxs)("div",{className:"btm-container",children:[Object(s.jsx)("button",{onClick:function(){var t=l.ctx;t&&l.addBody(new p(t,{x:0,y:20,w:2,h:2,m:1,v:{x:0,y:0},a:{x:0,y:0}}))},children:"Draw"}),Object(s.jsx)("button",{onClick:function(){l.animate()},children:"Animate"})]})]})}))(N());i(27);var z=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(S,{})})},A=i(4),P=i(18),R=i(17),U=Object(A.combineReducers)({}),B=Object(A.createStore)(U,Object(R.composeWithDevTools)());r.a.render(Object(s.jsx)(P.a,{store:B,children:Object(s.jsx)(z,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e03b0210.chunk.js.map