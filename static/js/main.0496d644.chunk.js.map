{"version":3,"sources":["classes/bodies/index.ts","components/Navbar.tsx","components/Canvas.tsx","components/Chart.tsx","components/EnergyChart.tsx","components/Input.tsx","modules/body.ts","components/KeyButton.tsx","utils/colors.ts","containers/ToolsContainer.tsx","containers/ChartContainer.tsx","containers/SimulationContainer.tsx","containers/CalculatorContainer/Input.tsx","containers/CalculatorContainer/functions.ts","containers/CalculatorContainer/Calculator.tsx","containers/CalculatorContainer/index.tsx","App.tsx","modules/index.ts","index.tsx","classes/bodies/Rectangle.ts","classes/utils/constants.ts","classes/CanvasStore/index.ts","classes/CanvasStore/functions.ts","classes/index.ts","classes/utils/functions.ts"],"names":["Logo","styled","h1","NavItems","ul","className","to","axesCanvasRef","useRef","canvasRef","origin","x","y","useLayoutEffect","current","CanvasStore","initCanvas","width","height","ref","style","border","body","useSelector","state","useState","chartData","setChartData","chartMode","setChartMode","useEffect","datasets","label","data","getPositionData","fill","showLine","backgroundColor","color","borderColor","borderWidth","onClick","getEnergyData","paramType","onChange","id","uuidv4","val","setVal","type","step","e","isNaN","parseFloat","target","value","required","htmlFor","SET_BODY","REMOVE_BODY","dispatch","useDispatch","payload","colors","inputsInitialState","w","h","m","v_x","v_y","a_x","a_y","animating","setAnimating","inputs","setInputs","bodies","setBodies","map","index","ctx","rect","Rectangle","addBody","eraseAll","reset","animateAll","ChartContainer","getUnit","inputType","Unit","console","log","ZERO","calcPosition","p","v","a","t","calcVelocity","calcFreeFallTime","Math","sqrt","abs","GRAVITY","Title","h3","CalculateButton","button","Result","span","calculatorType","inputParams","setInputParams","result","setResult","Position","Velocity","key","getInput","time","v_final","calcFreeFallVelocity","toFixed","v_mag","getMagnitude","calcKE","calcPE","vector","getResult","buttons","Button","GoBack","div","setCalculatorType","App","path","exact","rootReducer","combineReducers","action","store","createStore","reducer","composeWithDevTools","ReactDOM","render","document","getElementById","params","originalParams","colliding","applyGround","applyGravity","this","getId","JSON","parse","stringify","gridSize","fillStyle","beginPath","fillRect","closePath","getVelocity","addVector","fps","dx","dy","calcDropVelocity","draw","isX","isY","canvas","axesCanvas","axesCtx","chartCanvas","chartCtx","hasAxes","collisions","getContext","strokeStyle","lineWidth","i","moveTo","lineTo","stroke","textShift","font","originShift","floor","num","fillText","addAxes","chart","push","forEach","length","animate","requestAnimationFrame","clearRect","update","instance","getInstance","b","calcFallTime","a_","t_","y_","d","calcTimeOffset","isFalling","fallTime","t_offset","x_","pow","falling","y__","t__","getKE","getPE","pos","applyCorrection","t_up","h_","calcVelocityCorrection"],"mappings":"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uCC1Ba8D,EAAS,CACpB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,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","file":"static/js/main.0496d644.chunk.js","sourcesContent":["import Rectangle from \"./Rectangle\";\r\nexport * from \"./Body\";\r\nexport * from \"./Rectangle\";\r\n\r\nexport { Rectangle };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype NavbarProps = {\r\n  className?: string;\r\n};\r\n\r\nconst Logo = styled.h1``;\r\n\r\nconst NavItems = styled.ul`\r\n  list-style: none;\r\n  a {\r\n    text-decoration: none;\r\n    padding: 0.5rem;\r\n    border-bottom: 1px solid transparent;\r\n    transition: border 100ms ease-in-out;\r\n    &:hover {\r\n      border-bottom: 1px solid #2d3436;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Navbar: React.FC<NavbarProps> = ({ className }) => {\r\n  return (\r\n    <nav className={className}>\r\n      <Logo className=\"logo\">2D Motion Simulation</Logo>\r\n      <NavItems>\r\n        <li>\r\n          <Link to=\"/calculator\">Calculator</Link>\r\n        </li>\r\n      </NavItems>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default styled(Navbar)`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: auto;\r\n  padding: 2rem;\r\n`;\r\n","import React, { useLayoutEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CanvasStore } from \"../classes\";\r\n\r\ntype CanvasProps = {\r\n  className?: string;\r\n};\r\nconst Canvas: React.FC<CanvasProps> = ({ className }) => {\r\n  const axesCanvasRef = useRef<HTMLCanvasElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const width = 750;\r\n  const height = 750;\r\n  const origin = { x: 10, y: 20 };\r\n  const gridSize = 25;\r\n  useLayoutEffect(() => {\r\n    if (\r\n      canvasRef &&\r\n      canvasRef.current &&\r\n      axesCanvasRef &&\r\n      axesCanvasRef.current\r\n    ) {\r\n      CanvasStore.initCanvas(\r\n        canvasRef.current,\r\n        axesCanvasRef.current,\r\n        origin,\r\n        gridSize\r\n      );\r\n    }\r\n  }, [axesCanvasRef, canvasRef]);\r\n  return (\r\n    <div className={className}>\r\n      <canvas\r\n        className=\"body-canvas\"\r\n        width={width}\r\n        height={height}\r\n        ref={canvasRef}\r\n      />\r\n      <canvas\r\n        className=\"axes-canvas\"\r\n        width={width}\r\n        height={height}\r\n        style={{\r\n          border: \"1px solid black\",\r\n        }}\r\n        ref={axesCanvasRef}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(Canvas)`\r\n  position: relative;\r\n  width: calc(752px + 4rem);\r\n  height: calc(752px + 4rem);\r\n  background-color: white;\r\n  padding: 2rem;\r\n  border-radius: 12px;\r\n\r\n  canvas {\r\n    position: absolute;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Scatter } from \"react-chartjs-2\";\r\nimport { RootState } from \"../modules\";\r\nimport { IBody } from \"../classes\";\r\nimport { calcFallTime, getPositionData } from \"../classes/utils/functions\";\r\n\r\ntype ChartProps = {\r\n  className?: string;\r\n};\r\n\r\ntype ChartDataType = {\r\n  datasets: [\r\n    {\r\n      label: string;\r\n      data: Array<{ x: number; y: number }>;\r\n      fill: boolean;\r\n      showLine: boolean;\r\n      backgroundColor: string;\r\n      borderColor: string;\r\n      borderWidth: number;\r\n    }\r\n  ];\r\n};\r\ntype ChartMode = \"X\" | \"Y\";\r\n\r\nexport const Y_PLOT_COUNT = 10;\r\n\r\nconst Chart: React.FC<ChartProps> = ({ className }) => {\r\n  const body: IBody = useSelector((state: RootState) => state.body);\r\n  const [chartData, setChartData] = useState<ChartDataType>();\r\n  const [chartMode, setChartMode] = useState<ChartMode>(\"X\");\r\n  const chart = () => {\r\n    setChartData({\r\n      datasets: [\r\n        {\r\n          label: `Position ${chartMode}`,\r\n          data: getPositionData(body, chartMode),\r\n          fill: false,\r\n          showLine: true,\r\n          backgroundColor: body.color,\r\n          borderColor: body.color,\r\n          borderWidth: 1,\r\n        },\r\n      ],\r\n    });\r\n  };\r\n  const onClick = () => {\r\n    setChartMode(chartMode === \"X\" ? \"Y\" : \"X\");\r\n  };\r\n  useEffect(() => {\r\n    chart();\r\n  }, [body, chartMode]);\r\n  return (\r\n    <div className={className}>\r\n      {chartData && <Scatter data={chartData} />}\r\n      {chartData && (\r\n        <button className=\"chart-mode-btn\" onClick={onClick}>\r\n          Plot {chartMode === \"X\" ? \"Y\" : \"X\"}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(Chart)`\r\n  width: 1088px;\r\n  margin: auto;\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  .chart-mode-btn {\r\n    width: 5rem;\r\n    padding: 0.25rem;\r\n    margin: auto;\r\n    margin-top: 1rem;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Scatter } from \"react-chartjs-2\";\r\nimport { RootState } from \"../modules\";\r\nimport { IBody } from \"../classes\";\r\nimport { getEnergyData } from \"../classes/utils/functions\";\r\n\r\ntype EnergyChartProps = {\r\n  className?: string;\r\n};\r\n\r\ntype EnergyChartDataType = {\r\n  datasets: [\r\n    {\r\n      label: string;\r\n      data: Array<{ x: number; y: number }>;\r\n      fill: boolean;\r\n      showLine: boolean;\r\n      backgroundColor: string;\r\n      borderColor: string;\r\n      borderWidth: number;\r\n    },\r\n    {\r\n      label: string;\r\n      data: Array<{ x: number; y: number }>;\r\n      fill: boolean;\r\n      showLine: boolean;\r\n      backgroundColor: string;\r\n      borderColor: string;\r\n      borderWidth: number;\r\n    }\r\n  ];\r\n};\r\ntype EnergyChartMode = \"Kinetic\" | \"Potential\";\r\n\r\nexport const Y_PLOT_COUNT = 10;\r\n\r\nconst EnergyChart: React.FC<EnergyChartProps> = ({ className }) => {\r\n  const body: IBody = useSelector((state: RootState) => state.body);\r\n  const [chartData, setChartData] = useState<EnergyChartDataType>();\r\n  const [chartMode, setChartMode] = useState<EnergyChartMode>(\"Kinetic\");\r\n  const chart = () => {\r\n    setChartData({\r\n      datasets: [\r\n        {\r\n          label: `Potential Energy`,\r\n          data: getEnergyData(body, \"Potential\"),\r\n          fill: false,\r\n          showLine: true,\r\n          backgroundColor: \"#FC766AFF\",\r\n          borderColor: \"#FC766AFF\",\r\n          borderWidth: 1,\r\n        },\r\n        {\r\n          label: `Kinetic Energy`,\r\n          data: getEnergyData(body, \"Kinetic\"),\r\n          fill: false,\r\n          showLine: true,\r\n          backgroundColor: \"#5B84B1FF\",\r\n          borderColor: \"#5B84B1FF\",\r\n          borderWidth: 1,\r\n        },\r\n      ],\r\n    });\r\n  };\r\n  const onClick = () => {\r\n    setChartMode(chartMode === \"Kinetic\" ? \"Potential\" : \"Kinetic\");\r\n  };\r\n  useEffect(() => {\r\n    chart();\r\n  }, [body, chartMode]);\r\n  return (\r\n    <div className={className}>{chartData && <Scatter data={chartData} />}</div>\r\n  );\r\n};\r\n\r\nexport default styled(EnergyChart)`\r\n  width: 1088px;\r\n  margin: auto;\r\n  margin-top: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  .chart-mode-btn {\r\n    width: 10rem;\r\n    padding: 0.25rem;\r\n    margin: auto;\r\n    margin-top: 1rem;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ParamType } from \"../classes/utils/types\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ntype InputProps = {\r\n  className?: string;\r\n  paramType: ParamType;\r\n  onChange: (paramType: ParamType, value: number) => void;\r\n};\r\n\r\nconst Input: React.FC<InputProps> = ({ className, paramType, onChange }) => {\r\n  const id = `input-${uuidv4()}`;\r\n  const [val, setVal] = useState(\"0\");\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"input-container\">\r\n        <input\r\n          id={id}\r\n          type=\"number\"\r\n          step={0.1}\r\n          onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n            if (!isNaN(parseFloat(e.target.value))) {\r\n              onChange(paramType, parseFloat(e.target.value));\r\n            }\r\n            setVal(e.target.value);\r\n          }}\r\n          value={val}\r\n          required\r\n        />\r\n        <label htmlFor={id}>{paramType}</label>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(Input)`\r\n  position: relative;\r\n  input {\r\n    width: 100%;\r\n    padding: 0.5rem 2rem 0.5rem 0.5rem;\r\n    border-radius: 6px;\r\n    border: 1px solid #2d3436;\r\n  }\r\n  label {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 0.5rem;\r\n    transform: translateY(-50%);\r\n    font-family: sans-serif;\r\n    text-align: center;\r\n    width: 1.5rem;\r\n  }\r\n`;\r\n","import { IBody } from \"../classes\";\r\n\r\nexport const SET_BODY = \"SET_BODY\";\r\nexport const REMOVE_BODY = \"REMOVE_BODY\";\r\n\r\ntype SetBodyAction = {\r\n  type: typeof SET_BODY;\r\n  payload: IBody;\r\n};\r\n\r\ntype RemoveBodyAction = {\r\n  type: typeof REMOVE_BODY;\r\n};\r\n\r\ntype BodyActionTypes = SetBodyAction | RemoveBodyAction;\r\n\r\nexport const setBody = (payload: IBody): SetBodyAction => ({\r\n  type: SET_BODY,\r\n  payload,\r\n});\r\n\r\nexport const removeBody = (): RemoveBodyAction => ({\r\n  type: REMOVE_BODY,\r\n});\r\n\r\nconst initialState = null;\r\n\r\nexport default function (state = initialState, action: BodyActionTypes) {\r\n  switch (action.type) {\r\n    case SET_BODY:\r\n      return action.payload;\r\n    case REMOVE_BODY:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { IBody } from \"../classes/bodies\";\r\nimport { setBody } from \"../modules/body\";\r\n\r\ntype KeyButtonProps = {\r\n  className?: string;\r\n  color: string;\r\n  body: IBody;\r\n};\r\n\r\nconst KeyButton: React.FC<KeyButtonProps> = ({ className, color, body }) => {\r\n  const dispatch = useDispatch();\r\n  const onClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    dispatch(setBody(body));\r\n  };\r\n  return (\r\n    <button\r\n      className={className}\r\n      style={{ backgroundColor: color }}\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default styled(KeyButton)`\r\n  padding: 0.25rem;\r\n  border: 1px solid gray;\r\n  border-radius: 0.25rem;\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","export const colors = [\r\n  \"#63b598\",\r\n  \"#ce7d78\",\r\n  \"#ea9e70\",\r\n  \"#a48a9e\",\r\n  \"#c6e1e8\",\r\n  \"#648177\",\r\n  \"#0d5ac1\",\r\n  \"#f205e6\",\r\n  \"#1c0365\",\r\n  \"#14a9ad\",\r\n  \"#4ca2f9\",\r\n  \"#a4e43f\",\r\n  \"#d298e2\",\r\n  \"#6119d0\",\r\n  \"#d2737d\",\r\n  \"#c0a43c\",\r\n  \"#f2510e\",\r\n  \"#651be6\",\r\n  \"#79806e\",\r\n  \"#61da5e\",\r\n  \"#cd2f00\",\r\n  \"#9348af\",\r\n  \"#01ac53\",\r\n  \"#c5a4fb\",\r\n  \"#996635\",\r\n  \"#b11573\",\r\n  \"#4bb473\",\r\n  \"#75d89e\",\r\n  \"#2f3f94\",\r\n  \"#2f7b99\",\r\n  \"#da967d\",\r\n  \"#34891f\",\r\n  \"#b0d87b\",\r\n  \"#ca4751\",\r\n  \"#7e50a8\",\r\n  \"#c4d647\",\r\n  \"#e0eeb8\",\r\n  \"#11dec1\",\r\n  \"#289812\",\r\n  \"#566ca0\",\r\n  \"#ffdbe1\",\r\n  \"#2f1179\",\r\n  \"#935b6d\",\r\n  \"#916988\",\r\n  \"#513d98\",\r\n  \"#aead3a\",\r\n  \"#9e6d71\",\r\n  \"#4b5bdc\",\r\n  \"#0cd36d\",\r\n  \"#250662\",\r\n  \"#cb5bea\",\r\n  \"#228916\",\r\n  \"#ac3e1b\",\r\n  \"#df514a\",\r\n  \"#539397\",\r\n  \"#880977\",\r\n  \"#f697c1\",\r\n  \"#ba96ce\",\r\n  \"#679c9d\",\r\n  \"#c6c42c\",\r\n  \"#5d2c52\",\r\n  \"#48b41b\",\r\n  \"#e1cf3b\",\r\n  \"#5be4f0\",\r\n  \"#57c4d8\",\r\n  \"#a4d17a\",\r\n  \"#225b8\",\r\n  \"#be608b\",\r\n  \"#96b00c\",\r\n  \"#088baf\",\r\n  \"#f158bf\",\r\n  \"#e145ba\",\r\n  \"#ee91e3\",\r\n  \"#05d371\",\r\n  \"#5426e0\",\r\n  \"#4834d0\",\r\n  \"#802234\",\r\n  \"#6749e8\",\r\n  \"#0971f0\",\r\n  \"#8fb413\",\r\n  \"#b2b4f0\",\r\n  \"#c3c89d\",\r\n  \"#c9a941\",\r\n  \"#41d158\",\r\n  \"#fb21a3\",\r\n  \"#51aed9\",\r\n  \"#5bb32d\",\r\n  \"#807fb\",\r\n  \"#21538e\",\r\n  \"#89d534\",\r\n  \"#d36647\",\r\n  \"#7fb411\",\r\n  \"#0023b8\",\r\n  \"#3b8c2a\",\r\n  \"#986b53\",\r\n  \"#f50422\",\r\n  \"#983f7a\",\r\n  \"#ea24a3\",\r\n  \"#79352c\",\r\n  \"#521250\",\r\n  \"#c79ed2\",\r\n  \"#d6dd92\",\r\n  \"#e33e52\",\r\n  \"#b2be57\",\r\n  \"#fa06ec\",\r\n  \"#1bb699\",\r\n  \"#6b2e5f\",\r\n  \"#64820f\",\r\n  \"#1c271\",\r\n  \"#21538e\",\r\n  \"#89d534\",\r\n  \"#d36647\",\r\n  \"#7fb411\",\r\n  \"#0023b8\",\r\n  \"#3b8c2a\",\r\n  \"#986b53\",\r\n  \"#f50422\",\r\n  \"#983f7a\",\r\n  \"#ea24a3\",\r\n  \"#79352c\",\r\n  \"#521250\",\r\n  \"#c79ed2\",\r\n  \"#d6dd92\",\r\n  \"#e33e52\",\r\n  \"#b2be57\",\r\n  \"#fa06ec\",\r\n  \"#1bb699\",\r\n  \"#6b2e5f\",\r\n  \"#64820f\",\r\n  \"#1c271\",\r\n  \"#9cb64a\",\r\n  \"#996c48\",\r\n  \"#9ab9b7\",\r\n  \"#06e052\",\r\n  \"#e3a481\",\r\n  \"#0eb621\",\r\n  \"#fc458e\",\r\n  \"#b2db15\",\r\n  \"#aa226d\",\r\n  \"#792ed8\",\r\n  \"#73872a\",\r\n  \"#520d3a\",\r\n  \"#cefcb8\",\r\n  \"#a5b3d9\",\r\n  \"#7d1d85\",\r\n  \"#c4fd57\",\r\n  \"#f1ae16\",\r\n  \"#8fe22a\",\r\n  \"#ef6e3c\",\r\n  \"#243eeb\",\r\n  \"#1dc18\",\r\n  \"#dd93fd\",\r\n  \"#3f8473\",\r\n  \"#e7dbce\",\r\n  \"#421f79\",\r\n  \"#7a3d93\",\r\n  \"#635f6d\",\r\n  \"#93f2d7\",\r\n  \"#9b5c2a\",\r\n  \"#15b9ee\",\r\n  \"#0f5997\",\r\n  \"#409188\",\r\n  \"#911e20\",\r\n  \"#1350ce\",\r\n  \"#10e5b1\",\r\n  \"#fff4d7\",\r\n  \"#cb2582\",\r\n  \"#ce00be\",\r\n  \"#32d5d6\",\r\n  \"#17232\",\r\n  \"#608572\",\r\n  \"#c79bc2\",\r\n  \"#00f87c\",\r\n  \"#77772a\",\r\n  \"#6995ba\",\r\n  \"#fc6b57\",\r\n  \"#f07815\",\r\n  \"#8fd883\",\r\n  \"#060e27\",\r\n  \"#96e591\",\r\n  \"#21d52e\",\r\n  \"#d00043\",\r\n  \"#b47162\",\r\n  \"#1ec227\",\r\n  \"#4f0f6f\",\r\n  \"#1d1d58\",\r\n  \"#947002\",\r\n  \"#bde052\",\r\n  \"#e08c56\",\r\n  \"#28fcfd\",\r\n  \"#bb09b\",\r\n  \"#36486a\",\r\n  \"#d02e29\",\r\n  \"#1ae6db\",\r\n  \"#3e464c\",\r\n  \"#a84a8f\",\r\n  \"#911e7e\",\r\n  \"#3f16d9\",\r\n  \"#0f525f\",\r\n  \"#ac7c0a\",\r\n  \"#b4c086\",\r\n  \"#c9d730\",\r\n  \"#30cc49\",\r\n  \"#3d6751\",\r\n  \"#fb4c03\",\r\n  \"#640fc1\",\r\n  \"#62c03e\",\r\n  \"#d3493a\",\r\n  \"#88aa0b\",\r\n  \"#406df9\",\r\n  \"#615af0\",\r\n  \"#4be47\",\r\n  \"#2a3434\",\r\n  \"#4a543f\",\r\n  \"#79bca0\",\r\n  \"#a8b8d4\",\r\n  \"#00efd4\",\r\n  \"#7ad236\",\r\n  \"#7260d8\",\r\n  \"#1deaa7\",\r\n  \"#06f43a\",\r\n  \"#823c59\",\r\n  \"#e3d94c\",\r\n  \"#dc1c06\",\r\n  \"#f53b2a\",\r\n  \"#b46238\",\r\n  \"#2dfff6\",\r\n  \"#a82b89\",\r\n  \"#1a8011\",\r\n  \"#436a9f\",\r\n  \"#1a806a\",\r\n  \"#4cf09d\",\r\n  \"#c188a2\",\r\n  \"#67eb4b\",\r\n  \"#b308d3\",\r\n  \"#fc7e41\",\r\n  \"#af3101\",\r\n  \"#ff065\",\r\n  \"#71b1f4\",\r\n  \"#a2f8a5\",\r\n  \"#e23dd0\",\r\n  \"#d3486d\",\r\n  \"#00f7f9\",\r\n  \"#474893\",\r\n  \"#3cec35\",\r\n  \"#1c65cb\",\r\n  \"#5d1d0c\",\r\n  \"#2d7d2a\",\r\n  \"#ff3420\",\r\n  \"#5cdd87\",\r\n  \"#a259a4\",\r\n  \"#e4ac44\",\r\n  \"#1bede6\",\r\n  \"#8798a4\",\r\n  \"#d7790f\",\r\n  \"#b2c24f\",\r\n  \"#de73c2\",\r\n  \"#d70a9c\",\r\n  \"#25b67\",\r\n  \"#88e9b8\",\r\n  \"#c2b0e2\",\r\n  \"#86e98f\",\r\n  \"#ae90e2\",\r\n  \"#1a806b\",\r\n  \"#436a9e\",\r\n  \"#0ec0ff\",\r\n  \"#f812b3\",\r\n  \"#b17fc9\",\r\n  \"#8d6c2f\",\r\n  \"#d3277a\",\r\n  \"#2ca1ae\",\r\n  \"#9685eb\",\r\n  \"#8a96c6\",\r\n  \"#dba2e6\",\r\n  \"#76fc1b\",\r\n  \"#608fa4\",\r\n  \"#20f6ba\",\r\n  \"#07d7f6\",\r\n  \"#dce77a\",\r\n  \"#77ecca\",\r\n];\r\n\r\n// https://gist.github.com/mucar/3898821\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport CanvasStore from \"../classes/CanvasStore\";\r\nimport { Input, KeyButton } from \"../components\";\r\nimport { ParamType, Point, Vector } from \"../classes/utils/types\";\r\nimport { IBody, Rectangle } from \"../classes/bodies\";\r\nimport { colors } from \"../utils/colors\";\r\nimport { removeBody } from \"../modules/body\";\r\n\r\ntype ToolsContainerProps = {\r\n  className?: string;\r\n};\r\n\r\nconst inputsInitialState = {\r\n  x: 0,\r\n  y: 0,\r\n  w: 0,\r\n  h: 0,\r\n  m: 0,\r\n  v_x: 0,\r\n  v_y: 0,\r\n  a_x: 0,\r\n  a_y: 0,\r\n};\r\n\r\nconst ToolsContainer: React.FC<ToolsContainerProps> = ({ className }) => {\r\n  const [animating, setAnimating] = useState(false);\r\n  const [inputs, setInputs] = useState<Record<ParamType, number>>(\r\n    inputsInitialState\r\n  );\r\n  const [bodies, setBodies] = useState<IBody[]>([]);\r\n  // const [applyGround, setApplyGround] = useState(true);\r\n  // const [applyGravity, setApplyGravity] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const coordinates: ParamType[] = [\"x\", \"y\", \"w\", \"h\"];\r\n  const constants: ParamType[] = [\"m\"];\r\n  const vectors: ParamType[] = [\"v_x\", \"v_y\", \"a_x\"];\r\n\r\n  const onChange = (paramType: ParamType, value: number) => {\r\n    setInputs((inputs: Record<ParamType, number>) => ({\r\n      ...inputs,\r\n      [paramType]: value,\r\n    }));\r\n  };\r\n  const onDraw = () => {\r\n    const ctx = CanvasStore.ctx;\r\n\r\n    if (ctx) {\r\n      const color = colors[CanvasStore.id];\r\n      const rect = new Rectangle(ctx, inputs, color);\r\n      CanvasStore.addBody(rect);\r\n      setBodies([...bodies, rect]);\r\n    }\r\n  };\r\n  const onAnimate = () => {\r\n    CanvasStore.animateAll();\r\n    setAnimating(true);\r\n  };\r\n  const onEraseAll = () => {\r\n    CanvasStore.eraseAll();\r\n    dispatch(removeBody());\r\n    setBodies([]);\r\n  };\r\n  const onReset = () => {\r\n    CanvasStore.reset();\r\n    setAnimating(false);\r\n  };\r\n  // const onGround = (e: React.MouseEvent<HTMLInputElement, MouseEvent>) => {\r\n  //   const checkbox = e.target as HTMLInputElement;\r\n  //   setApplyGround(checkbox.checked);\r\n  //   CanvasStore.setGround(checkbox.checked);\r\n  // };\r\n  // const onGravity = (e: React.MouseEvent<HTMLInputElement, MouseEvent>) => {\r\n  //   const checkbox = e.target as HTMLInputElement;\r\n  //   setApplyGravity(checkbox.checked);\r\n  //   CanvasStore.setGravity(checkbox.checked);\r\n  // };\r\n  useEffect(() => {}, []);\r\n  return (\r\n    <div className={className}>\r\n      <div>\r\n        <h3 className=\"container-header\">Coordinates</h3>\r\n        <div className=\"inputs-container grid\">\r\n          {coordinates.map((paramType: ParamType, index: number) => (\r\n            <Input paramType={paramType} onChange={onChange} key={index} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h3 className=\"container-header\">Constants</h3>\r\n        <div className=\"inputs-container grid\">\r\n          {constants.map((paramType: ParamType, index: number) => (\r\n            <Input paramType={paramType} onChange={onChange} key={index} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h3 className=\"container-header\">Vectors</h3>\r\n        <div className=\"inputs-container grid\">\r\n          {vectors.map((paramType: ParamType, index: number) => (\r\n            <Input paramType={paramType} onChange={onChange} key={index} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"actions-container grid\">\r\n        <button className=\"actions-btn\" onClick={onDraw}>\r\n          Draw\r\n        </button>\r\n        <button className=\"actions-btn\" onClick={onEraseAll}>\r\n          Erase All\r\n        </button>\r\n        <button\r\n          className=\"actions-btn\"\r\n          onClick={animating ? onReset : onAnimate}\r\n        >\r\n          {animating ? \"Reset\" : \"Animate\"}\r\n        </button>\r\n      </div>\r\n      {/* <form className=\"settings-container\">\r\n        <div className=\"checkbox-container\">\r\n          <label htmlFor=\"ground\">Enable Ground?</label>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"ground\"\r\n            className=\"checkbox\"\r\n            checked={applyGround}\r\n            onChange={() => {}}\r\n            onClick={onGround}\r\n          />\r\n        </div>\r\n        <div className=\"checkbox-container\">\r\n          <label htmlFor=\"gravity\">Enable Gravity?</label>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"gravity\"\r\n            className=\"checkbox\"\r\n            checked={applyGravity}\r\n            onChange={() => {}}\r\n            onClick={onGravity}\r\n          />\r\n        </div>\r\n      </form> */}\r\n      <div className=\"keys-container\">\r\n        <h3 className=\"container-header\">Plot</h3>\r\n        <h4>Select the color to plot the graph</h4>\r\n        <div className=\"key-buttons\">\r\n          {bodies.map(body => (\r\n            <KeyButton body={body} color={body.color} key={body.id} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"tools-container\">\r\n        <h3 className=\"container-header\">Other Tools</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(ToolsContainer)`\r\n  background-color: white;\r\n  border-radius: 12px;\r\n  margin-left: 1rem;\r\n  width: 20rem;\r\n  height: calc(752px + 4rem);\r\n  padding: 2rem;\r\n  .grid {\r\n    display: grid;\r\n    grid-gap: 0.5rem;\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  .buttons-container {\r\n    margin-bottom: 1rem;\r\n  }\r\n  .container-header {\r\n    margin-bottom: 0.5rem;\r\n  }\r\n  .inputs-container {\r\n    margin-bottom: 1rem;\r\n  }\r\n  .actions-container {\r\n    margin-bottom: 1rem;\r\n    button {\r\n      padding: 0.25rem;\r\n    }\r\n    button:last-child {\r\n      grid-column: 1 / 3;\r\n    }\r\n  }\r\n  .settings-container {\r\n    .checkbox-container {\r\n      display: flex;\r\n      align-items: center;\r\n      label {\r\n        font-weight: bold;\r\n        margin-right: 1rem;\r\n      }\r\n    }\r\n    margin-bottom: 1rem;\r\n  }\r\n  .keys-container {\r\n    h4 {\r\n      font-weight: normal;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n    .key-buttons {\r\n      display: grid;\r\n      grid-gap: 0.5rem;\r\n      grid-template-columns: repeat(8, 1fr);\r\n      grid-auto-rows: 1rem;\r\n    }\r\n  }\r\n  .tools-container {\r\n    h4 {\r\n      font-weight: normal;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n    .links {\r\n      list-style: none;\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Chart, EnergyChart} from \"../components\";\r\n\r\nconst ChartContainer = () => {\r\n  return(\r\n    <div>\r\n      <Chart />\r\n      <EnergyChart />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChartContainer;","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { IBody } from \"../classes\";\r\nimport { Canvas, Chart } from \"../components\";\r\nimport ToolsContainer from \"./ToolsContainer\";\r\nimport { RootState } from \"../modules\";\r\nimport ChartContainer from \"./ChartContainer\";\r\n\r\ntype SimulationContainerProps = {\r\n  className?: string;\r\n};\r\n\r\nconst SimulationContainer: React.FC<SimulationContainerProps> = ({\r\n  className,\r\n}) => {\r\n  const body = useSelector((state: RootState) => state.body);\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"top-container\">\r\n        <Canvas />\r\n        <ToolsContainer />\r\n      </div>\r\n      <div className=\"btm-container\">{body && <ChartContainer />}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(SimulationContainer)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 1200px;\r\n  padding: 2rem;\r\n  .top-container {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { InputType } from \"./Calculator\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ntype InputProps = {\r\n  className?: string;\r\n  inputType: InputType;\r\n  onChange: (inputType: InputType, value: number) => void;\r\n};\r\n\r\nconst getUnit = (inputType: InputType) => {\r\n  switch (inputType) {\r\n    case \"x\":\r\n    case \"y\":\r\n      return \"m\";\r\n    case \"m\":\r\n      return \"kg\";\r\n    case \"v_x\":\r\n    case \"v_y\":\r\n      return \"m/s\";\r\n    case \"a_x\":\r\n    case \"a_y\":\r\n      return \"m/s^2\";\r\n    case \"t\":\r\n      return \"s\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nconst Unit = styled.label`\r\n  width: 3rem;\r\n  margin-left: 1rem;\r\n  text-align: left;\r\n`;\r\n\r\nconst Input: React.FC<InputProps> = ({ className, inputType, onChange }) => {\r\n  const id = `input-${uuidv4()}`;\r\n  const [val, setVal] = useState(\"0\");\r\n  useEffect(() => {\r\n    setVal(\"0\");\r\n  }, [inputType]);\r\n  return (\r\n    <div className={className}>\r\n      <div className={className}>\r\n        <div className=\"input-container\">\r\n          <label className=\"input-type\" htmlFor={id}>\r\n            {inputType}\r\n          </label>\r\n          <input\r\n            id={id}\r\n            type=\"text\"\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\r\n              if (!isNaN(parseFloat(e.target.value))) {\r\n                console.log(e.target.value);\r\n                onChange(inputType, parseFloat(e.target.value));\r\n              }\r\n              setVal(e.target.value);\r\n            }}\r\n            value={val}\r\n            required\r\n          />\r\n          <Unit htmlFor={id}>{getUnit(inputType)}</Unit>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(Input)`\r\n  width: 100%;\r\n  height: 2rem;\r\n  .input-container {\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    input {\r\n      width: 300px;\r\n      height: 100%;\r\n      padding: 0.25rem 2rem 0.25rem 0.5rem;\r\n    }\r\n    .input-type {\r\n      font-family: sans-serif;\r\n      text-align: center;\r\n      width: 1.5rem;\r\n      margin-right: 1rem;\r\n    }\r\n  }\r\n  margin-bottom: 1rem;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n","import { Vector } from \"../../classes/utils/types\";\r\nimport { GRAVITY } from \"../../classes/utils/constants\";\r\nimport { addVector, getMagnitude } from \"../../classes/utils/functions\";\r\n\r\nconst ZERO = { x: 0, y: 0 };\r\n\r\nexport const calcPosition = (\r\n  p: Vector,\r\n  v: Vector,\r\n  a: Vector,\r\n  t: number\r\n): Vector => {\r\n  const x = v.x * t + (1 / 2) * a.x * (t * t) + p.x;\r\n  const y = v.y * t + (1 / 2) * a.y * (t * t) + p.y;\r\n  return { x, y };\r\n};\r\nexport const calcVelocity = (v: Vector, a: Vector, t: number) => {\r\n  const x = v.x + a.x * t;\r\n  const y = v.y + a.y * t;\r\n  return { x, y };\r\n};\r\n\r\nexport const calcFreeFallTime = (h: number) => {\r\n  return Math.sqrt(Math.abs((2 * h) / GRAVITY.y));\r\n};\r\n\r\nexport const calcFreeFallVelocity = (h: number) => {\r\n  const t = calcFreeFallTime(h);\r\n  return calcVelocity(ZERO, GRAVITY, t).y;\r\n};\r\n\r\nexport const calcKE = (m: number, v_x: number, v_y: number) => {\r\n  const v_mag = getMagnitude({ x: v_x, y: v_y });\r\n  console.log(v_mag);\r\n  return (1 / 2) * m * (v_mag * v_mag);\r\n};\r\n\r\nexport const calcPE = (y: number, m: number) => {\r\n  return m * Math.abs(GRAVITY.y) * y;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Input from \"./Input\";\r\nimport {\r\n  calcFreeFallTime,\r\n  calcFreeFallVelocity,\r\n  calcPosition,\r\n  calcVelocity,\r\n  calcKE,\r\n  calcPE,\r\n} from \"./functions\";\r\nimport { Vector } from \"../../classes/utils/types\";\r\n\r\ntype CalculatorProps = {\r\n  className?: string;\r\n  calculatorType: CalculatorType;\r\n};\r\n\r\nexport type CalculatorType =\r\n  | \"Position\"\r\n  | \"Velocity\"\r\n  | \"Free Fall\"\r\n  | \"Kinetic Energy\"\r\n  | \"Potential Energy\";\r\n\r\nexport type InputType = \"x\" | \"y\" | \"m\" | \"v_x\" | \"v_y\" | \"a_x\" | \"a_y\" | \"t\";\r\n\r\nconst inputsInitialState = {\r\n  x: 0,\r\n  y: 0,\r\n  m: 0,\r\n  v_x: 0,\r\n  v_y: 0,\r\n  a_x: 0,\r\n  a_y: 0,\r\n  t: 0,\r\n};\r\n\r\nconst Title = styled.h3`\r\n  text-align: center;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst CalculateButton = styled.button`\r\n  width: 8rem;\r\n  height: 2rem;\r\n  margin: auto;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst Result = styled.span`\r\n  font-size: 1.2em;\r\n`;\r\n\r\nconst Calculator: React.FC<CalculatorProps> = ({\r\n  className,\r\n  calculatorType,\r\n}) => {\r\n  const [inputParams, setInputParams] = useState<Record<InputType, number>>(\r\n    inputsInitialState\r\n  );\r\n\r\n  const [result, setResult] = useState<null | string>(null);\r\n\r\n  const onChange = (inputType: InputType, value: number) => {\r\n    setInputParams({\r\n      ...inputParams,\r\n      [inputType]: value,\r\n    });\r\n  };\r\n\r\n  const getInput = (inputType: InputType, key: number) => {\r\n    return <Input key={key} inputType={inputType} onChange={onChange} />;\r\n  };\r\n\r\n  const calculatorData: Record<CalculatorType, InputType[]> = {\r\n    Position: [\"x\", \"y\", \"v_x\", \"v_y\", \"a_x\", \"a_y\", \"t\"],\r\n    Velocity: [\"v_x\", \"v_y\", \"a_x\", \"a_y\", \"t\"],\r\n    \"Free Fall\": [\"y\"],\r\n    \"Kinetic Energy\": [\"m\", \"v_x\", \"v_y\"],\r\n    \"Potential Energy\": [\"y\", \"m\"],\r\n  };\r\n\r\n  const onClick = () => {\r\n    const { x, y, m, v_x, v_y, a_x, a_y, t } = inputParams;\r\n    const p = { x, y };\r\n    const v = { x: v_x, y: v_y };\r\n    const a = { x: a_x, y: a_y };\r\n    switch (calculatorType) {\r\n      case \"Position\":\r\n        setResult(\r\n          `x: ${calcPosition(p, v, a, t).x}, y: ${\r\n            calcPosition(p, v, a, t).y\r\n          } (m)`\r\n        );\r\n        break;\r\n      case \"Velocity\":\r\n        setResult(\r\n          `x: ${calcVelocity(v, a, t).x}, y: ${calcVelocity(v, a, t).y} (m/s)`\r\n        );\r\n        break;\r\n      case \"Free Fall\":\r\n        const time = calcFreeFallTime(y);\r\n        const v_final = calcFreeFallVelocity(y);\r\n        setResult(`${time.toFixed(3)} (s),   ${v_final.toFixed(3)} (m/s)`);\r\n        break;\r\n      case \"Kinetic Energy\":\r\n        setResult(`${calcKE(m, v_x, v_y).toFixed(3)} (J)`);\r\n        break;\r\n      case \"Potential Energy\":\r\n        setResult(`${calcPE(y, m).toFixed(3)} (J)`);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const getResult = () => {\r\n    if (!result) return \"\";\r\n    if (typeof result === \"number\" || typeof result === \"string\") {\r\n      return result;\r\n    } else {\r\n      const vector = result as Vector;\r\n      return `x: ${vector.x} y: ${vector.y}`;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setInputParams(inputsInitialState);\r\n    setResult(null);\r\n  }, [calculatorType]);\r\n  return (\r\n    <div className={className}>\r\n      <Title>{calculatorType as string}</Title>\r\n      <div className=\"inputs\">\r\n        {calculatorData[calculatorType].map((inputType, index) =>\r\n          getInput(inputType, index)\r\n        )}\r\n      </div>\r\n      <CalculateButton onClick={onClick}>Calculate</CalculateButton>\r\n      {result && (\r\n        <Result>\r\n          <strong>Result: </strong>\r\n          {getResult()}\r\n        </Result>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(Calculator)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  .inputs {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 30%;\r\n    min-width: 30rem;\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Calculator, { CalculatorType } from \"./Calculator\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype CalculatorContainerProps = {\r\n  className?: string;\r\n};\r\n\r\nconst buttons: { type: CalculatorType }[] = [\r\n  {\r\n    type: \"Position\",\r\n  },\r\n  {\r\n    type: \"Velocity\",\r\n  },\r\n  {\r\n    type: \"Free Fall\",\r\n  },\r\n  {\r\n    type: \"Kinetic Energy\",\r\n  },\r\n  {\r\n    type: \"Potential Energy\",\r\n  },\r\n];\r\n\r\nconst Button = styled.button`\r\n  width: 10rem;\r\n  height: 2rem;\r\n  margin-right: 1rem;\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n`;\r\n\r\nconst GoBack = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nconst CalculatorContainer: React.FC<CalculatorContainerProps> = ({\r\n  className,\r\n}) => {\r\n  const [calculatorType, setCalculatorType] = useState<CalculatorType>(\r\n    \"Position\"\r\n  );\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"button-container\">\r\n        {buttons.map((button, index) => (\r\n          <Button key={index} onClick={() => setCalculatorType(button.type)}>\r\n            {button.type as string}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n      <Calculator calculatorType={calculatorType} />\r\n      <GoBack>\r\n        <Link to=\"/\">Go Back</Link>\r\n      </GoBack>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default styled(CalculatorContainer)`\r\n  width: 100%;\r\n  .button-container {\r\n    margin: auto;\r\n    margin-top: 10rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { Navbar } from \"./components\";\r\nimport { SimulationContainer } from \"./containers\";\r\nimport CalculatorContainer from \"./containers/CalculatorContainer\";\r\nimport \"./styles/App.css\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navbar />\r\n        <Switch>\r\n          <Route path=\"/calculator\">\r\n            <CalculatorContainer />\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <SimulationContainer />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport body from \"./body\";\r\nconst rootReducer = combineReducers({ body });\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { createStore } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport reducer from \"./modules\";\r\n\r\nconst store = createStore(reducer, composeWithDevTools());\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import CanvasStore from \"../CanvasStore\";\r\nimport { BodyParams, IBody } from \"./Body\";\r\nimport { Point, Vector, ParamType } from \"../utils/types\";\r\nimport { addVector, getVelocity, calcDropVelocity } from \"../utils/functions\";\r\nimport { GRAVITY } from \"../utils/constants\";\r\n\r\nexport type RectangleParams = BodyParams & {\r\n  x: number;\r\n  y: number;\r\n  w: number;\r\n  h: number;\r\n  m: number;\r\n};\r\n\r\nexport default class Rectangle implements IBody {\r\n  id: number;\r\n  ctx: CanvasRenderingContext2D;\r\n  originalParams: RectangleParams;\r\n  params: RectangleParams;\r\n  color: string;\r\n  animating = false;\r\n  colliding = false;\r\n  applyGround = true;\r\n  applyGravity = true;\r\n  constructor(\r\n    ctx: CanvasRenderingContext2D,\r\n    params: Record<ParamType, number | Point | Vector>,\r\n    color: string\r\n  ) {\r\n    this.id = CanvasStore.getId();\r\n    this.ctx = ctx;\r\n    this.originalParams = {\r\n      x: params.x as number,\r\n      y: params.y as number,\r\n      w: params.w as number,\r\n      h: params.h as number,\r\n      m: params.m as number,\r\n      v: { x: params.v_x, y: params.v_y } as Vector,\r\n      a: { x: params.a_x, y: params.a_y } as Vector,\r\n    };\r\n    this.params = JSON.parse(JSON.stringify(this.originalParams));\r\n    this.color = color;\r\n  }\r\n  draw() {\r\n    let { x, y, w, h } = this.params;\r\n    const { origin, gridSize } = CanvasStore;\r\n\r\n    // change coordinate systems\r\n    x = (x + origin.x) * gridSize;\r\n    y = (origin.y - y) * gridSize;\r\n    w *= gridSize;\r\n    h *= -gridSize;\r\n\r\n    this.ctx.fillStyle = this.color;\r\n    this.ctx.beginPath();\r\n    this.ctx.fillRect(x, y, w, h);\r\n    this.ctx.closePath();\r\n  }\r\n  update() {\r\n    if (this.animating) {\r\n      const v = getVelocity(\r\n        this.params.v,\r\n        this.applyGravity\r\n          ? addVector(this.originalParams.a, GRAVITY)\r\n          : this.originalParams.a,\r\n        1 / CanvasStore.fps\r\n      );\r\n      const dx = v.x / CanvasStore.fps;\r\n      const dy = v.y / CanvasStore.fps;\r\n      this.params.x += dx;\r\n\r\n      // Bounces off the ground only if applyGround === true\r\n      if (this.applyGround) {\r\n        if (this.params.y + dy > 0) this.params.y += dy;\r\n        else {\r\n          this.params.y = 0;\r\n          this.params.v = {\r\n            x: this.params.v.x,\r\n            y: this.applyGravity\r\n              ? -calcDropVelocity(\r\n                  this.originalParams.y,\r\n                  this.originalParams.v.y,\r\n                  true\r\n                )\r\n              : -this.originalParams.v.y,\r\n          };\r\n        }\r\n      } else {\r\n        this.params.y += dy;\r\n      }\r\n\r\n      this.params.v = getVelocity(\r\n        this.params.v,\r\n        this.applyGravity\r\n          ? addVector(this.originalParams.a, GRAVITY)\r\n          : this.originalParams.a,\r\n        1 / CanvasStore.fps\r\n      );\r\n    }\r\n    this.draw();\r\n  }\r\n  reset() {\r\n    this.animating = false;\r\n    this.params = JSON.parse(JSON.stringify(this.originalParams));\r\n    this.draw();\r\n  }\r\n  isInBoundary(p: Point) {\r\n    const isX = p.x >= this.params.x && p.x <= this.params.x + this.params.w;\r\n    const isY = p.y >= this.params.y && p.x <= this.params.y + this.params.h;\r\n    return isX && isY;\r\n  }\r\n}\r\n","import { Vector } from \"./types\";\r\nexport const GRAVITY: Vector = {\r\n  x: 0,\r\n  y: -9.80665,\r\n};\r\n","import { IBody } from \"../bodies\";\r\nimport { addAxes } from \"./functions\";\r\nimport { Point } from \"../utils/types\";\r\n\r\nclass CanvasStore {\r\n  private static instance: CanvasStore;\r\n  id: number = 0;\r\n\r\n  canvas: HTMLCanvasElement | null = null;\r\n  ctx: CanvasRenderingContext2D | null = null;\r\n  axesCanvas: HTMLCanvasElement | null = null;\r\n  axesCtx: CanvasRenderingContext2D | null = null;\r\n  chartCanvas: HTMLCanvasElement | null = null;\r\n  chartCtx: CanvasRenderingContext2D | null = null;\r\n\r\n  bodies: Array<IBody> = [];\r\n  hasAxes = false;\r\n  origin = { x: 0, y: 0 };\r\n  gridSize = 1;\r\n  animating = false;\r\n\r\n  applyGround = true;\r\n  applyGravity = true;\r\n\r\n  // Collisions\r\n  collisions: boolean[] = [];\r\n\r\n  // FPS Correction\r\n  fps = 58;\r\n\r\n  private constructor() {}\r\n  static getInstance(): CanvasStore {\r\n    if (!CanvasStore.instance) CanvasStore.instance = new CanvasStore();\r\n    return CanvasStore.instance;\r\n  }\r\n  getId() {\r\n    return this.id++;\r\n  }\r\n  initCanvas(\r\n    canvas: HTMLCanvasElement,\r\n    axesCanvas: HTMLCanvasElement,\r\n    origin: Point,\r\n    gridSize: number\r\n  ) {\r\n    this.canvas = canvas;\r\n    this.ctx = canvas.getContext(\"2d\");\r\n    this.axesCanvas = axesCanvas;\r\n    this.axesCtx = axesCanvas.getContext(\"2d\");\r\n    this.origin = origin;\r\n    this.gridSize = gridSize;\r\n\r\n    // Add axes\r\n    if (this.axesCtx) addAxes(axesCanvas, this.axesCtx, origin, gridSize);\r\n  }\r\n  initChart(chart: HTMLCanvasElement) {\r\n    this.chartCanvas = chart;\r\n    this.chartCtx = chart.getContext(\"2d\");\r\n  }\r\n  addBody(body: IBody) {\r\n    this.bodies.push(body);\r\n    body.applyGround = this.applyGround;\r\n    body.applyGravity = this.applyGravity;\r\n    body.draw();\r\n  }\r\n  draw() {\r\n    this.bodies.forEach((body: IBody) => body.draw());\r\n  }\r\n  animateAll() {\r\n    this.animating = true;\r\n\r\n    // Initialize collisions\r\n    for (let i = 0; i < this.bodies.length; i++) {\r\n      this.collisions[i] = false;\r\n      this.bodies[i].animating = true;\r\n    }\r\n    this.animate();\r\n  }\r\n  private animate() {\r\n    if (!this.canvas || !this.ctx) return;\r\n    if (this.animating) {\r\n      requestAnimationFrame(() => this.animate());\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n      for (let i = 0; i < this.bodies.length; i++) {\r\n        this.bodies[i].colliding = this.collisions[i];\r\n        this.bodies[i].update();\r\n      }\r\n    }\r\n  }\r\n  eraseAll() {\r\n    this.animating = false;\r\n    if (!this.canvas || !this.ctx) return;\r\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.bodies = [];\r\n  }\r\n  reset() {\r\n    this.animating = false;\r\n    if (!this.canvas || !this.ctx) return;\r\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.bodies.forEach((body: IBody) => {\r\n      body.reset();\r\n    });\r\n  }\r\n  setGround(applyGround: boolean) {\r\n    console.log(\"Setting applyGround:\", applyGround);\r\n    this.applyGround = applyGround;\r\n    this.bodies.forEach(body => (body.applyGround = applyGround));\r\n  }\r\n  setGravity(applyGravity: boolean) {\r\n    console.log(\"Setting applyGravity:\", applyGravity);\r\n    this.applyGravity = applyGravity;\r\n    this.bodies.forEach(body => (body.applyGravity = applyGravity));\r\n  }\r\n}\r\n\r\nexport default CanvasStore.getInstance();\r\n","\r\nexport const addAxes = (\r\n  axesCanvas: HTMLCanvasElement,\r\n  axesCtx: CanvasRenderingContext2D,\r\n  origin: { x: number; y: number },\r\n  gridSize: number\r\n) => {\r\n  // Draw regular grid lines\r\n  axesCtx.strokeStyle = \"#a6a6a6\";\r\n  axesCtx.lineWidth = 1;\r\n  axesCtx.beginPath();\r\n  for (let i = gridSize; i < axesCanvas.width; i += gridSize) {\r\n    if (i === origin.x * gridSize) continue;\r\n    axesCtx.moveTo(i, 0);\r\n    axesCtx.lineTo(i, axesCanvas.height);\r\n    axesCtx.stroke();\r\n  }\r\n  for (let i = gridSize; i < axesCanvas.height; i += gridSize) {\r\n    if (i === origin.y * gridSize) continue;\r\n    axesCtx.moveTo(0, i);\r\n    axesCtx.lineTo(axesCanvas.width, i);\r\n    axesCtx.stroke();\r\n  }\r\n  axesCtx.closePath();\r\n\r\n  // Draw axes\r\n  axesCtx.strokeStyle = \"#000000\";\r\n  axesCtx.beginPath();\r\n  axesCtx.moveTo(origin.x * gridSize, 0);\r\n  axesCtx.lineTo(origin.x * gridSize, axesCanvas.height);\r\n  axesCtx.stroke();\r\n  axesCtx.moveTo(0, origin.y * gridSize);\r\n  axesCtx.lineTo(axesCanvas.width, origin.y * gridSize);\r\n  axesCtx.stroke();\r\n  axesCtx.closePath();\r\n\r\n  // Add texts\r\n  const textShift = { x: 3, y: 10 };\r\n  axesCtx.font = \"10px Aerial\";\r\n  const originShift = {\r\n    x: Math.floor(origin.x),\r\n    y: Math.floor(origin.y),\r\n  };\r\n  for (let i = 0; i < axesCanvas.width; i++) {\r\n    const num = i - originShift.x;\r\n    axesCtx.fillText(\r\n      `${num}`,\r\n      i * gridSize + textShift.x,\r\n      origin.y * gridSize + textShift.y\r\n    );\r\n  }\r\n  for (let i = 0; i < axesCanvas.width; i++) {\r\n    const num = originShift.y - i;\r\n    if (num === 0) continue;\r\n    axesCtx.fillText(\r\n      `${num}`,\r\n      origin.x * gridSize + textShift.x,\r\n      i * gridSize + textShift.y\r\n    );\r\n  }\r\n};","import CanvasStore from \"./CanvasStore\";\r\nexport * from \"./bodies/Body\";\r\nexport { CanvasStore };\r\n","import { IBody } from \"../bodies/Body\";\r\nimport { Vector } from \"./types\";\r\nimport { Rectangle } from \"../bodies\";\r\nimport { GRAVITY } from \"./constants\";\r\n\r\nexport const addVector = (a: Vector, b: Vector): Vector => ({\r\n  x: a.x + b.x,\r\n  y: a.y + b.y,\r\n});\r\n\r\n// From apex to ground\r\nexport const calcFallTime = (body: IBody) => {\r\n  if (body instanceof Rectangle) {\r\n    const { y, v, a } = body.originalParams;\r\n    const a_ = body.applyGravity ? a.y + GRAVITY.y : a.y;\r\n    const t_ = v.y > 0 ? Math.abs(v.y / GRAVITY.y) : 0;\r\n    const y_ =\r\n      v.y > 0 ? Math.abs(v.y) * t_ + (1 / 2) * GRAVITY.y * (t_ * t_) : 0;\r\n    if (v.y > 0) {\r\n      const d = y + y_;\r\n      return Math.sqrt(Math.abs((2 * d) / a_));\r\n    } else if (v.y < 0) {\r\n      return calcDropVelocity(y, v.y, false) / GRAVITY.y;\r\n    } else {\r\n      const t = Math.abs(Math.sqrt(-2 * GRAVITY.y * y) / GRAVITY.y);\r\n      return t;\r\n    }\r\n  }\r\n  return 0;\r\n};\r\n\r\nconst calcTimeOffset = (v_y: number, y: number) => {\r\n  if (v_y > 0) {\r\n    return v_y / GRAVITY.y;\r\n  } else if (v_y < 0) {\r\n    const t_ = (-v_y - Math.sqrt(v_y * v_y - 2 * GRAVITY.y * y)) / GRAVITY.y;\r\n    return t_;\r\n  } else {\r\n    return 0;\r\n  }\r\n};\r\n\r\nconst isFalling = (\r\n  v_y: number,\r\n  fallTime: number,\r\n  t: number,\r\n  t_offset: number\r\n) => {\r\n  if (v_y > 0) {\r\n    return t < Math.abs(t_offset)\r\n      ? false\r\n      : Math.floor((t + t_offset) / fallTime) % 2 === 0;\r\n  } else if (v_y < 0) {\r\n    // Fall time in phase 0\r\n    return t < t_offset\r\n      ? true\r\n      : Math.floor((t - t_offset) / fallTime) % 2 !== 0;\r\n  } else {\r\n    return Math.floor(t / fallTime) % 2 === 0;\r\n  }\r\n};\r\n\r\nexport const calcPosition = (body: IBody, t: number): Vector => {\r\n  const fallTime = calcFallTime(body);\r\n  if (body instanceof Rectangle) {\r\n    const { x, y, v, a } = body.originalParams;\r\n    const a_ = body.applyGravity ? addVector(a, GRAVITY) : a;\r\n    const x_ = (1 / 2) * (a_.x * Math.pow(t, 2)) + v.x * t + x;\r\n    const t_offset = calcTimeOffset(v.y, y);\r\n    const t_ = body.applyGround ? (t + t_offset) % fallTime : t;\r\n    const falling = body.applyGround\r\n      ? isFalling(v.y, fallTime, t, t_offset)\r\n      : true;\r\n    if (v.y > 0) {\r\n      if (t < Math.abs(t_offset)) {\r\n        const y_ = v.y * t + (1 / 2) * a_.y * (t * t) + y;\r\n        return { x: x_, y: y_ };\r\n      }\r\n      if (falling) {\r\n        const y__ =\r\n          -calcDropVelocity(y, v.y, false) * fallTime +\r\n          (1 / 2) * GRAVITY.y * (fallTime * fallTime);\r\n        const y_ = (1 / 2) * a_.y * (t_ * t_) + y__;\r\n        return { x: x_, y: y_ };\r\n      } else {\r\n        const y_ =\r\n          -calcDropVelocity(y, v.y, false) * t_ + (1 / 2) * a_.y * (t_ * t_);\r\n        return { x: x_, y: y_ };\r\n      }\r\n    } else if (v.y < 0) {\r\n      if (t < t_offset) {\r\n        const y_ = v.y * t + (1 / 2) * a_.y * (t * t) + y;\r\n        return { x: x_, y: y_ };\r\n      }\r\n      if (falling) {\r\n        const t__ = (t - t_offset) % fallTime;\r\n        const y__ =\r\n          -calcDropVelocity(y, v.y, false) * fallTime +\r\n          (1 / 2) * GRAVITY.y * (fallTime * fallTime);\r\n        const y_ = (1 / 2) * a_.y * (t__ * t__) + y__;\r\n        return { x: x_, y: y_ };\r\n      } else {\r\n        const t__ = (t - t_offset) % fallTime;\r\n        const y_ =\r\n          -calcDropVelocity(y, v.y, false) * t__ + (1 / 2) * a_.y * (t__ * t__);\r\n        return { x: x_, y: y_ };\r\n      }\r\n    } else {\r\n      if (falling) {\r\n        const y_ = (1 / 2) * a_.y * (t_ * t_) + y;\r\n        return { x: x_, y: y_ };\r\n      } else {\r\n        const y_ =\r\n          -calcDropVelocity(y, v.y, false) * t_ + (1 / 2) * a_.y * (t_ * t_);\r\n        return { x: x_, y: y_ };\r\n      }\r\n    }\r\n  }\r\n  return { x: 0, y: 0 };\r\n};\r\nexport const getVelocity = (v: Vector, a: Vector, t: number) => ({\r\n  x: v.x + a.x * t,\r\n  y: v.y + a.y * t,\r\n});\r\nexport const getAcceleration = (a: Vector, t: number): Vector => ({\r\n  x: a.x * t,\r\n  y: a.y * t,\r\n});\r\n\r\nexport const getMomentum = (m: number, v: Vector): Vector => ({\r\n  x: m * v.x,\r\n  y: m * v.y,\r\n});\r\n\r\nexport const calcVelocity = (body: IBody, t: number): Vector => {\r\n  const fallTime = calcFallTime(body);\r\n  if (body instanceof Rectangle) {\r\n    const { y, v, a } = body.originalParams;\r\n    const a_ = body.applyGravity ? addVector(a, GRAVITY) : a;\r\n    const t_offset = calcTimeOffset(v.y, y);\r\n    const t_ = body.applyGround ? (t + t_offset) % fallTime : t;\r\n    const falling = body.applyGround\r\n      ? isFalling(v.y, fallTime, t, t_offset)\r\n      : true;\r\n    if ((v.y > 0 && t < Math.abs(t_offset)) || (v.y < 0 && t < t_offset))\r\n      return { x: v.x + a_.x * t, y: v.y + a_.y * t };\r\n    if (falling) {\r\n      if (v.y < 0) {\r\n        const t__ = (t - t_offset) % fallTime;\r\n        return { x: v.x + a_.x * t, y: a_.y * t__ };\r\n      } else {\r\n        return { x: v.x + a_.x * t, y: a_.y * t_ };\r\n      }\r\n    } else {\r\n      if (v.y < 0) {\r\n        const t__ = (t - t_offset) % fallTime;\r\n        return {\r\n          x: v.x + a_.x * t,\r\n          y: -calcDropVelocity(y, v.y, false) + a_.y * t__,\r\n        };\r\n      } else {\r\n        return {\r\n          x: v.x + a_.x * t,\r\n          y: -calcDropVelocity(y, v.y, false) + a_.y * t_,\r\n        };\r\n      }\r\n    }\r\n  }\r\n  return { x: 0, y: 0 };\r\n};\r\n\r\nexport const getMagnitude = (v: Vector) => Math.sqrt(v.x * v.x + v.y * v.y);\r\n\r\nexport const getKE = (m: number, v: Vector): number => {\r\n  const v_mag = getMagnitude(v);\r\n  return (1 / 2) * m * (v_mag * v_mag);\r\n};\r\n\r\nexport const getPE = (m: number, h: number): number => {\r\n  return m * -GRAVITY.y * h;\r\n};\r\n\r\nexport const getPositionData = (body: IBody, chartMode: \"X\" | \"Y\") => {\r\n  const data: Vector[] = [];\r\n  if (body instanceof Rectangle) {\r\n    for (let i = 0; i < 15; i += 0.02) {\r\n      const pos = calcPosition(body, i);\r\n      data.push({ x: i, y: chartMode === \"X\" ? pos.x : pos.y });\r\n    }\r\n    return data;\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const getEnergyData = (\r\n  body: IBody,\r\n  chartMode: \"Kinetic\" | \"Potential\"\r\n) => {\r\n  const data: Vector[] = [];\r\n  if (body instanceof Rectangle) {\r\n    for (let i = 0; i < 15; i += 0.02) {\r\n      const { m } = body.originalParams;\r\n      data.push({\r\n        x: i,\r\n        y:\r\n          chartMode === \"Kinetic\"\r\n            ? getKE(m, calcVelocity(body, i))\r\n            : getPE(m, calcPosition(body, i).y),\r\n      });\r\n    }\r\n    return data;\r\n  }\r\n  return [];\r\n};\r\n\r\n// export const getPositions = (\r\n//   body: IBody,\r\n//   timeRange: number,\r\n//   chartMode: \"X\" | \"Y\"\r\n// ): number[] => {\r\n//   let positions: number[] = [];\r\n//   const { v } = body.originalParams;\r\n//   const t = calcFallTime(body);\r\n//   console.log(\"fall time\", t);\r\n//   const period = t / Y_PLOT_COUNT;\r\n//   for (\r\n//     let i = 0;\r\n//     i <= timeRange;\r\n//     i += body.applyGround && chartMode === \"Y\" ? period : 1\r\n//   ) {\r\n//     const { x, y } = calcPosition(body, i);\r\n//     positions.push(chartMode === \"X\" ? x : y);\r\n//   }\r\n//   return positions;\r\n// };\r\n\r\nexport const calcDropVelocity = (\r\n  h: number,\r\n  v_y: number,\r\n  applyCorrection: boolean\r\n) => {\r\n  const t_up = Math.abs(v_y / GRAVITY.y);\r\n  const h_ = h + Math.abs(v_y) * t_up + (1 / 2) * GRAVITY.y * Math.pow(t_up, 2);\r\n  const t = Math.sqrt((2 * h_) / -GRAVITY.y);\r\n  return GRAVITY.y * t * (applyCorrection ? calcVelocityCorrection(h_) : 1);\r\n};\r\n\r\nconst calcVelocityCorrection = (y: number) => {\r\n  if (y < 1) return 1.07;\r\n  if (y < 3) return 1.0375;\r\n  if (y < 5) return 1.027;\r\n  if (y < 7) return 1.024;\r\n  if (y < 9) return 1.021;\r\n  if (y < 11) return 1.018;\r\n  if (y < 13) return 1.017;\r\n  if (y < 15) return 1.0155;\r\n  if (y < 17) return 1.0145;\r\n  if (y < 19) return 1.01325;\r\n  if (y < 21) return 1.013;\r\n  if (y < 23) return 1.0125;\r\n  if (y < 25) return 1.012125;\r\n  return 1.011;\r\n};\r\n\r\n// const getDistance = (p1: Point, p2: Point): Distance => {\r\n//   const distX = Math.abs(p1.x - p2.x);\r\n//   const distY = Math.abs(p1.y - p2.y);\r\n//   return {\r\n//     scalar: Math.sqrt(Math.pow(distX, 2) + Math.pow(distY, 2)),\r\n//     x: distX,\r\n//     y: distY,\r\n//   };\r\n// };\r\n\r\n// const getCenterPoint = (b: IBody): Point => {\r\n//   if (b instanceof Rectangle) {\r\n//     const { params } = b;\r\n//     return { x: params.x + params.w * 0.5, y: params.y + params.h * 0.5 };\r\n//   }\r\n//   if (b instanceof Circle) {\r\n//     return b.params.o;\r\n//   }\r\n//   return { x: 0, y: 0 };\r\n// };\r\n\r\n// const RectCircleColliding = (r: Rectangle, c: Circle, d: Distance) => {\r\n//   const rect = r.params;\r\n//   const circle = c.params;\r\n//   if (d.x > rect.w / 2 + circle.r) return false;\r\n//   if (d.y > rect.h / 2 + circle.r) return false;\r\n//   return d.x <= rect.w / 2 || d.y <= rect.h / 2;\r\n// };\r\n\r\n// const RectRectColliding = (r1: Rectangle, r2: Rectangle, d: Distance) => {\r\n//   const rect1 = r1.params;\r\n//   const rect2 = r2.params;\r\n//   if (d.x > rect1.w / 2 + rect2.w / 2) return false;\r\n//   if (d.y > rect1.h / 2 + rect2.h / 2) return false;\r\n//   return d.x <= rect1.w / 2 + rect2.w / 2 || d.y <= rect1.h / 2 + rect2.h / 2;\r\n// };\r\n\r\n// export const colliding = (b1: IBody, b2: IBody) => {\r\n//   const distance = getDistance(getCenterPoint(b1), getCenterPoint(b2));\r\n\r\n//   // Different Computation needed depending on the body type\r\n//   if (b1 instanceof Rectangle && b2 instanceof Circle)\r\n//     return RectCircleColliding(b1, b2, distance);\r\n//   if (b1 instanceof Circle && b2 instanceof Rectangle)\r\n//     return RectCircleColliding(b2, b1, distance);\r\n//   if (b1 instanceof Rectangle && b2 instanceof Rectangle)\r\n//     return RectRectColliding(b1, b2, distance);\r\n// };\r\n"],"sourceRoot":""}