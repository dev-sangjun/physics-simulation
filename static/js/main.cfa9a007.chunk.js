(this["webpackJsonpphysics-simulation"]=this["webpackJsonpphysics-simulation"]||[]).push([[0],{28:function(t,e,s){},34:function(t,e,s){"use strict";s.r(e);var i=s(1),a=s(0),n=s(8),r=s.n(n),c=s(2),h=s(11),o=s(3),x=s(7),d=s(13),l=function(){function t(){Object(x.a)(this,t),this.axesCanvas=void 0,this.axesCtx=void 0,this.canvas=void 0,this.ctx=void 0,this.bodies=[],this.hasAxes=!1,this.origin={x:0,y:0},this.gridSize=1,this.lastUpdated=void 0,this.fps=58,this.animationStarted=!1,this.time=0,this.resetCanvas=!1}return Object(d.a)(t,[{key:"setCanvas",value:function(t,e){this.canvas=t,this.axesCanvas=e,this.hasAxes=!1}},{key:"setContext",value:function(t,e){this.ctx=t,this.axesCtx=e}},{key:"addBody",value:function(t){this.bodies.push(t),t.draw(),this.resetCanvas=!1}},{key:"animate",value:function(){var t=this;if(!this.resetCanvas&&this.canvas&&this.ctx){this.lastUpdated||(this.lastUpdated=performance.now());var e=(performance.now()-this.lastUpdated)/1e3;this.lastUpdated=performance.now(),this.animationStarted?this.fps=1/e:this.animationStarted=!0,requestAnimationFrame((function(){return t.animate()})),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies.forEach((function(t){return t.update()}))}}},{key:"reset",value:function(){this.resetCanvas=!0,this.animationStarted=!1,this.canvas&&this.ctx&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.bodies=[])}},{key:"addText",value:function(){if(this.axesCanvas&&this.axesCtx){var t=3,e=10;this.axesCtx.font="10px Aerial";for(var s=Math.floor(this.origin.x),i=Math.floor(this.origin.y),a=0;a<this.axesCanvas.width;a++){var n=a-s;this.axesCtx.fillText("".concat(n),a*this.gridSize+t,this.origin.y*this.gridSize+e)}for(var r=0;r<this.axesCanvas.width;r++){var c=i-r;0!==c&&this.axesCtx.fillText("".concat(c),this.origin.x*this.gridSize+t,r*this.gridSize+e)}}}},{key:"addAxes",value:function(t,e){if(this.axesCanvas&&this.axesCtx){this.origin=t,this.gridSize=e,this.axesCtx.strokeStyle="#a6a6a6",this.axesCtx.lineWidth=1,this.axesCtx.beginPath();for(var s=e;s<this.axesCanvas.width;s+=e)s!==t.x*e&&(this.axesCtx.moveTo(s,0),this.axesCtx.lineTo(s,this.axesCanvas.height),this.axesCtx.stroke());for(var i=e;i<this.axesCanvas.height;i+=e)i!==t.y*e&&(this.axesCtx.moveTo(0,i),this.axesCtx.lineTo(this.axesCanvas.width,i),this.axesCtx.stroke());this.axesCtx.closePath(),this.axesCtx.strokeStyle="#000000",this.axesCtx.beginPath(),this.axesCtx.moveTo(t.x*e,0),this.axesCtx.lineTo(t.x*e,this.axesCanvas.height),this.axesCtx.stroke(),this.axesCtx.moveTo(0,t.y*e),this.axesCtx.lineTo(this.axesCanvas.width,t.y*e),this.axesCtx.stroke(),this.axesCtx.closePath(),this.addText()}}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();l.instance=void 0;var u=l.getInstance(),v={x:0,y:-9.80665},f=function(t,e,s){return{x:t.x+e.x*s,y:t.y+e.y*s}},p=function t(e,s){var i=this;Object(x.a)(this,t),this.ctx=e,this.params=s,this.originalParams=void 0,this.draw=void 0,this.update=void 0,this.reset=void 0,this.ctx=e,this.originalParams=s,this.params=s,this.draw=function(){var t=i.params,e=t.x,s=t.y,a=t.w,n=t.h,r=(t.m,t.v,t.a,u.origin),c=u.gridSize;e=(e+r.x)*c,s=(r.y-s)*c,a*=c,n*=-c,i.ctx.fillStyle="red",i.ctx.beginPath(),i.ctx.fillRect(e,s,a,n),i.ctx.closePath()},this.update=function(){if(i.params.y>=0){var t=f(i.params.v,v,1/u.fps).y/u.fps;i.params.y+t>0?i.params.y+=t:i.params.y=0,i.params.v=f(i.params.v,v,1/u.fps),u.time+=1/u.fps}i.draw()},this.reset=function(){i.params=i.originalParams}},j=s(20);function b(){var t=Object(c.a)(["\n  position: relative;\n  canvas {\n    position: absolute;\n  }\n"]);return b=function(){return t},t}var m=Object(o.a)((function(t){var e=t.className,s=t.width,n=t.height,r=void 0===n?750:n,c=t.origin,h=void 0===c?{x:0,y:0}:c,o=t.gridSize,x=void 0===o?25:o,d=Object(a.useRef)(null),l=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){if(d&&d.current&&l&&l.current){u.setCanvas(l.current,d.current);var t=l.current.getContext("2d"),e=d.current.getContext("2d");e&&t&&(u.setContext(t,e),u.addAxes(h,x))}}),[d,l]),Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("canvas",{className:"body-canvas",width:s,height:r,ref:l}),Object(i.jsx)("canvas",{className:"axes-canvas",width:s,height:r,style:{border:"1px solid black"},ref:d})]})}))(b()),y=0,O=function(t){return"".concat(t,"-").concat(y++)};function g(){var t=Object(c.a)(["\n  position: relative;\n  display: flex;\n  input {\n    width: 100%;\n    padding: 0 1.5rem 0 0.5rem;\n  }\n  label {\n    position: absolute;\n    top: 50%;\n    right: 0.5rem;\n    transform: translateY(-50%);\n    font-family: sans-serif;\n  }\n"]);return g=function(){return t},t}var C=Object(o.a)((function(t){var e=t.className,s=t.placeholder,a=t.inputType,n=O("input");return Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("input",{id:n,placeholder:s}),Object(i.jsx)("label",{htmlFor:n,children:function(){switch(a){case"w":case"h":case"r":return"m";case"mass":return"kg";default:return""}}()})]})}))(g());function w(){var t=Object(c.a)(["\n  width: 752px;\n  height: 752px;\n  overflow: hidden;\n  .btn-container {\n  }\n"]);return w=function(){return t},t}var k=Object(o.a)((function(t){var e=t.className,s=Object(a.useRef)(null);return Object(i.jsx)("div",{id:"canvas-container",className:e,ref:s,children:Object(i.jsx)(m,Object(j.a)({},{width:750,height:750,origin:{x:5,y:25},gridSize:25}))})}))(w());function S(){var t=Object(c.a)(["\n  margin-left: 1rem;\n  border: 1px solid #e9e9e9;\n  width: 20rem;\n  height: 752px;\n  padding: 1rem;\n  .inputs-container {\n    display: grid;\n    grid-gap: 0.5rem;\n    grid-template-columns: repeat(2, 1fr);\n  }\n"]);return S=function(){return t},t}var T=Object(o.a)((function(t){var e=t.className;return Object(i.jsxs)("div",{className:e,children:[Object(i.jsx)("div",{className:"buttons-container"}),Object(i.jsxs)("div",{className:"inputs-container",children:[Object(i.jsx)(C,{placeholder:"x",inputType:"x"}),Object(i.jsx)(C,{placeholder:"y",inputType:"y"}),Object(i.jsx)(C,{placeholder:"width",inputType:"w"}),Object(i.jsx)(C,{placeholder:"height",inputType:"h"}),Object(i.jsx)("span",{})]})]})}))(S());function N(){var t=Object(c.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 1200px;\n  padding: 2rem;\n  .top-container {\n    display: flex;\n    justify-content: center;\n  }\n"]);return N=function(){return t},t}var z=Object(o.a)((function(t){var e=t.className,s=Object(a.useState)(0),n=Object(h.a)(s,2),r=(n[0],n[1],Object(a.useState)(!1)),c=Object(h.a)(r,2);c[0],c[1];return Object(i.jsxs)("div",{className:e,children:[Object(i.jsxs)("div",{className:"top-container",children:[Object(i.jsx)(k,{}),Object(i.jsx)(T,{})]}),Object(i.jsxs)("div",{className:"btm-container",children:[Object(i.jsx)("button",{onClick:function(){var t=u.ctx;t&&u.addBody(new p(t,{x:0,y:20,w:2,h:2,m:1,v:{x:0,y:0},a:{x:0,y:0}}))},children:"Draw"}),Object(i.jsx)("button",{onClick:function(){u.animate()},children:"Animate"}),Object(i.jsx)("button",{onClick:function(){u.reset()},children:"Reset"})]})]})}))(N());s(28);var P=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(z,{})})},A=s(4),R=s(19),U=s(18),B=Object(A.combineReducers)({}),E=Object(A.createStore)(B,Object(U.composeWithDevTools)());r.a.render(Object(i.jsx)(R.a,{store:E,children:Object(i.jsx)(P,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.cfa9a007.chunk.js.map